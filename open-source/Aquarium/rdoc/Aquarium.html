<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>module Aquarium - Aquarium</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
  var index_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/darkfish.js"></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">




<body id="top" role="document" class="module">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    
    
    
    
  </div>
</nav>

<main role="main" aria-labelledby="module-Aquarium">
  <h1 id="module-Aquarium" class="module">
    module Aquarium
  </h1>

  <section class="description">
    
<p>Example demonstrating emerging ideas about good aspect-oriented design. Specifically, this  example follows ideas of Jonathan Aldrich on “Open Modules”, where a “module” (in the generic sense of the word…) is responsible for defining and maintaining the pointcuts that it is  willing to expose to potential aspects. <a href="Aquarium/Aspects.html"><code>Aspects</code></a> are only allowed to advise the module through the pointcut. (Enforcing this constraint is TBD) Griswold, Sullivan, and collaborators have expanded on these ideas. See their IEEE Software, March 2006 paper.</p>

<p>Example demonstrating “Design by Contract”, Bertrand Meyer&#39;s idea for programmatically- specifying the contract of use for a class or module and testing it at runtime (usually during the testing process) This example is adapted from spec/extras/design_by_contract_spec.rb. Note: the DesignByContract module adds the precondition, postcondition, and invariant methods shown below to <a href="Object.html"><code>Object</code></a> and they use “self” as the :object to advise.</p>

<p>Example demonstrating “wrapping” an exception; rescuing an exception and  throwing a different one. A common use for this is to map exceptions across “domain” boundaries, e.g., persistence and application logic domains.  Note that you must use :around advice, since :after_raising cannot change the control flow. (However, see feature request #19119)</p>

<p>Example demonstrating how to use the TypeFinder class to conveniently “introduce” new methods and attributes in a set of types, like you might do with AspectJ in Java. Of course, in Ruby, you can simply use Object#extend(module). However, if you want to do this in a cross-cutting way, TypeFinder. is convenient.</p>

<p>Example demonstrating “around” advice for method_missing. This is a technique for avoiding collisions when different toolkits want to override method_missing in the same classes, e.g., <a href="Object.html"><code>Object</code></a>. Using around advice as shown allows a toolkit to add  custom behavior while invoking the “native” method_missing to handle unrecognized method calls. Note that it is essential to use around advice, not before or after advice, because neither can prevent the call to the “wrapped” method_missing, which is presumably not what you want. In this (contrived) example, an <a href="Aquarium/Echo.html"><code>Echo</code></a> class uses method_missing to simply echo the method name and arguments. An aspect is used to intercept any calls to a  fictitious “log” method and handle those in a different way.</p>

<p>Example demonstrating “around” advice that traces calls to all methods in classes <a href="Aquarium/Foo.html"><code>Foo</code></a> and <a href="Aquarium/Bar.html"><code>Bar</code></a></p>

<p>Example demonstrating a hack for defining a reusable aspect in a module so that the aspect only gets created when the module is included by another module or class. Hacking like this defies the spirit of Aquarium&#39;s goal of being “intuitive”, so I created a feature request #19122 to address this problem.</p>

<p>WARNING: put the “include …” statement at the END of the class declaration, as shown below. If you put the include statement at the beginning, as you normally wouuld for including a module, it won&#39;t advice any join points,  because no methods will have been defined at that point!!</p>

<p>Adding useful methods to <a href="Regexp.html"><code>Regexp</code></a>.</p>

<p>Find methods and types and objects.</p>

<p>Finds pointcuts by name, either class variables, class constants or both.</p>

<p>Finds types known to the runtime environment.</p>

  </section>

  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
  </section>

</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.1.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

